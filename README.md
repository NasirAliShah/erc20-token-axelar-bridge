# ERC-20 Token Bridge: Base to Ethereum via Axelar Network

## Overview

This repository implements an ERC-20 token bridging solution between Base and Ethereum blockchains using the Axelar network. The system enables secure interchain token transfers while maintaining total supply management on the Base blockchain.

## Features

- ğŸ”„ Cross-chain ERC-20 token transfers between Base and Ethereum
- ğŸ” Secure token locking/unlocking on Base
- ğŸ­ Controlled minting/burning mechanism on Ethereum
- âš¡ Axelar Interchain Token Service integration
- ğŸ’° Automated gas fee estimation for transfers

## Prerequisites

- Node.js (v16 or later)
- Hardhat
- Axelar SDK
- Additional NPM packages (see `package.json`)

## Installation

1. Clone the repository

```bash
git clone https://github.com/NasirAliShah/erc20-token-axelar-bridge.git
cd erc20-token-axelar-bridge
```

2. Install dependencies

```bash
npm install
```

3. Configure environment variables by creating a `.env` file:

| Variable                            | Description                                      |
| ----------------------------------- | ------------------------------------------------ |
| BASE_SEPOLIA_RPC_URL                | Base Testnet RPC URL                             |
| ETHEREUM_TESTNET_RPC                | Ethereum Testnet RPC URL                         |
| PRIVATE_KEY                         | Your Private Key                                 |
| INTERCHAIN_SERVICE_CONTRACT_ADDRESS | Axelar Interchain Token Service Contract Address |
| BASE_RANDOMDEX_CONTRACT_ADDRESS     | Deployed Base Token Contract Address             |
| ETH_RANDOMDEX_CONTRACT_ADDRESS      | Deployed Ethereum Token Contract Address         |
| TOKEN_SALT                          | Unique Salt for Deployment                       |
| TOKEN_MANAGER_ETH_ADDRESS           | Token Manager Address on Ethereum                |
| TOKEN_ID                            | Token ID Generated by Interchain Token Service   |
| ETHEREUM_RECEIVER_ADDRESS           | Receiver Address on Ethereum                     |
| BASE_RECEIVER_ADDRESS               | Receiver Address on Base                         |
| FUNCTION_NAME                       | Function to Execute                              |

## Architecture

### Token Management System

- **Base Blockchain**: Handles token locking and unlocking
- **Ethereum Blockchain**: Manages token minting and burning
- **Axelar Network**: Facilitates cross-chain communication and gas estimation

### Interchain Transfer Flow

1. **Base to Ethereum**: Tokens are locked on Base and minted on Ethereum
2. **Ethereum to Base**: Tokens are burned on Ethereum and unlocked on Base

## Available Commands

### Token Manager Deployment

#### Deploy on Base

```bash
FUNCTION_NAME=deployTokenManagerBase npx hardhat run ./scripts/bridgeRandomDEX.js --network baseSepolia
```

#### Deploy on Ethereum

```bash
FUNCTION_NAME=deployRemoteTokenManager npx hardhat run ./scripts/bridgeRandomDEX.js --network baseSepolia
```

### Token Management Operations

#### Grant Mint/Burn Access (Ethereum)

```bash
FUNCTION_NAME=transferMintAccessToTokenManagerOnEth npx hardhat run ./scripts/bridgeRandomDEX.js --network baseSepolia
```

#### Approve Tokens (Base)

```bash
FUNCTION_NAME=approveTokensOnBase npx hardhat run ./scripts/bridgeRandomDEX.js --network baseSepolia
```

### Cross-Chain Transfers

#### Base to Ethereum

```bash
FUNCTION_NAME=transferTokensBaseToEth npx hardhat run ./scripts/bridgeRandomDEX.js --network baseSepolia
```

#### Ethereum to Base

```bash
FUNCTION_NAME=transferTokensEthToBase npx hardhat run ./scripts/bridgeRandomDEX.js --network ethereumSepolia
```

## Project Structure

```
â”œâ”€â”€ contracts/
â”‚   â”œâ”€â”€ RandomDEX.sol               # Base token contract
â”‚   â””â”€â”€ EthRandomDEX.sol            # Ethereum token contract
â”œâ”€â”€ libraries/
â”‚   â””â”€â”€ ERC20Fee.sol                # Library for fee management
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ bridgeRandomDEX.js      # Main deployment and management script
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ interchainTokenServiceABI.json  # Axelar service ABI
â”‚   â”œâ”€â”€ RandomDEXABI.json              # Base token contract ABI
â”‚   â””â”€â”€ EthRandomDEXABI.json           # Ethereum token contract ABI
â””â”€â”€ .env                               # Environment configuration
```
